# OSS

We consider two levels of OSS SBOM: Packager and Application.

## Packager SBOM

Includes:

* Tools used to generate released artifacts. For example, on Windows, this might involve tools like Inno Setup.
* Software embedded into the installer.

> [!NOTE]
> Software downloaded via a script during installation is not included in this section.

## Application SBOM

Includes all dependencies anticipated to be accessible from the application. These can be downloaded by the installer or previously installed by the user.

For example, this covers:

* Python dependencies obtained from `requirements.txt`.
* System dependencies, such as mosquitto, flatc, etc.


## Adding headers manually

To add the headers to new files you can run on local console:

```sh
docker run -it --network=none -v ${PWD}:/src ghcr.io/google/addlicense:latest -c 'Sony Semiconductor Solutions Corp.' -l apache -s -v .
```

## Licenses whitelist

The file `oss/licenses_whitelist.txt` contains a list of accepted OSS licenses.

This list can be regenerated by calling:

```sh
python oss/generate_whitelist.py /path/to/local-console-application-sbom-report.csv
```

where `local-console-application-sbom-report.csv` is produced by the "Generate OSS License report"
**Github action**.

This should be called after an OSS audit, to guarantee all the licenses in the CSV file are valid.

### Using the whitelist

As part of the "Generate OSS License report" **Github action**, the whitelist is used to make
sure all the the Python packages installed have a valid license. This check can be done by running the following script:

```sh
python oss/verify_licenses.py /path/to/local-console-application-sbom-report.csv
```

which will use the aforementioned `oss/licenses_whitelist.txt` file.
